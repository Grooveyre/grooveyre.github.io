<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<section class="current">
  <h1>RSVP</h1>
  <p>Texte d'intro</p>
  <button class="section__next btn btn-outline-danger">Continuer</button>
</section>

<section>

  <h2>À la mairie...</h2>
  <p class="subtitle"><small>Le 27 avril à 11h, à Paris</small></p>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="vient_en_solo_paris" name="participation_civil" value="vient_en_solo_paris">
    <label class="form-check-label" for="vient_en_solo_paris">
      Je viens seul·e !
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="vient_en_couple_paris" name="participation_civil" value="vient_en_couple_paris">
    <label class="form-check-label" for="vient_en_couple_paris">
      On vient à deux !
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="ne_vient_pas_paris" name="participation_civil" value="ne_vient_pas_paris">
    <label class="form-check-label" for="ne_vient_pas_paris">
      Je ne pourrais pas venir !
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="ne_sait_pas_paris" name="participation_civil" value="ne_sait_pas_paris">
    <label class="form-check-label" for="ne_sait_pas_paris">
      Je ne sais pas encore !
    </label>
  </div>

  <button class="section__next btn btn-outline-danger">Valider</button>

</section>

<section>

  <h2>À la cérémonie de mariage...</h2>
  <p class="subtitle"><small>Le 13 juillet à 16h, à Poilly-sur-Tholon</small></p>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="vient_en_solo_poilly" name="participation_ceremonie" value="vient_en_solo">
    <label class="form-check-label" for="vient_en_solo_poilly">
      Je viens seul·e !
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="vient_en_couple_poilly" name="participation_ceremonie" value="vient_en_couple">
    <label class="form-check-label" for="vient_en_couple_poilly">
      On vient à deux !
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="ne_vient_pas_poilly" name="participation_ceremonie" value="ne_vient_pas">
    <label class="form-check-label" for="ne_vient_pas_poilly">
      Je ne pourrais pas venir !
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="ne_sait_pas_poilly" name="participation_ceremonie" value="ne_sait_pas">
    <label class="form-check-label" for="ne_sait_pas_poilly">
      Je ne sais pas encore !
    </label>
  </div>

  <button class="section__next btn btn-outline-danger">Valider</button>

</section>

<section>

  <h2>Repas</h2>
  <p class="subtitle"><small>Bla bla 10€/pers.</small></p>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" id="diner_dimanche" name="diner_dimanche">
    <label class="form-check-label" for="diner_dimanche">
      Le dîner du dimanche soir
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" id="activites_lundi" name="activites_lundi">
    <label class="form-check-label" for="activites_lundi">
      Une des activités du lundi matin
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" id="dejeuner_lundi" name="dejeuner_lundi">
    <label class="form-check-label" for="dejeuner_lundi">
      Le déjeuner du lundi midi
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" id="ne_reste_pas" name="ne_reste_pas">
    <label class="form-check-label" for="ne_reste_pas">
      Rien de tout ça, je fais la fête et je me casse
    </label>
  </div>


  <button class="section__next btn btn-outline-danger">Valider</button>

</section>

<section>

  <h2>Vos restrictions alimentaires</h2>
  <p class="subtitle"><small>Allergique aux mandarines sauvages des Andes ?</small></p>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="mange_de_tout" name="restrictions_alimentaires" value="mange_de_tout">
    <label class="form-check-label" for="mange_de_tout">
      Je n'ai pas de restrictions alimentaires
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="radio" id="regime_special" name="restrictions_alimentaires" value="regime_special">
    <label class="form-check-label" for="regime_special">
      J'ai des restrictions alimentaires
    </label>
  </div>

  <div class="form-group">
    <label for="restrictions_alimentaires">
      Lesquelles ?
    </label>
    <textarea class="form-control" id="restrictions_alimentaires_details" name="restrictions_alimentaires_details" rows="3"></textarea>
  </div>

  <button class="section__next btn btn-outline-danger">Valider</button>

</section>




<style>

  :root { --primary-color: #c72c48; }

  body {
    background-image: url('images/auxerre.jpg');
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;
    background-position: center center;
  }

  section { max-width: 40rem; margin: 0 auto; padding: 1rem 4rem; font-size: 18px; border-left: 6px solid var(--primary-color); position: relative; background-color: rgba(255,255,255,0.9); box-shadow: 0 0 1rem .25rem rgba(0,0,0,.25); border-radius: 1px; transition: opacity .3s ease-out; }
  section:not(.current) { opacity: .4; cursor: pointer; }

  section .section-cover { content: ""; display: block; background-color: white; position: absolute; top: 0; left: -6px; z-index: 1; cursor: pointer; opacity: 0; }
  section:not(.current) .section-cover { height: 100%; width: calc(100% + 6px); opacity: .5; }

  .section-wrapper {
    padding-top: 8rem;
  }


  .form-check { margin: .25rem 0; }
  .subtitle { opacity: .9; margin-top: -.5rem; font-family: Georgia; }
  input[type="radio"], input[type="checkbox"] { position: relative; top: 0px; }
  .section__next { margin-top: .5rem; }

  .btn-outline-danger {
      color: var(--primary-color);
      border-color: var(--primary-color);
  }

  .btn-outline-danger:hover {
      color: #fff;
      background-color: var(--primary-color);
      border-color: var(--primary-color);
  }

</style>


<script>

$(function(){

  $('section').wrap('<div class="section-wrapper"></div>')
  $('section').append('<div class="section-cover"></div>')

  $('.section-cover').click(function(e){
    var $section = $(this).closest('section')
    if (!$section.hasClass('current')) {
      e.preventDefault()
      focusOnThisSection($section)
    }
  })

  $('section button').click(function(e){
    var $section = $(this).closest('section')
    if ($section.hasClass('current')) {
      goToNextSection($section)
    }
  })

})

function focusOnThisSection($section) {
  $('section.current').removeClass('current')
  $section.addClass('current')
  $section.closest('.section-wrapper').get(0).scrollIntoView({ behavior: 'smooth' })
}

function goToNextSection($section) {
  var $nextSection = $section.closest('.section-wrapper').next().children('section').first()
  console.log($nextSection)
  focusOnThisSection($nextSection)
}

</script>


</html>